(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{101:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return s})),a.d(t,"default",(function(){return b}));var n=a(1),r=a(6),i=(a(0),a(161)),o={id:"notarization-powered-by-blockchain",title:"Notarization powered by Blockchain"},c={id:"learn/workshops/notarization/notarization-powered-by-blockchain",title:"Notarization powered by Blockchain",description:"Alice and Bob had many meetings negotiating the terms and conditions of the lease agreement. After weeks of going back and forth writing the contract, Alice sends Bob through email the finalized document in digital form. Bob gives Alice a quick call and confirms that the latest version of the file is representing his intentions and willing to finalize the deal. Alice is glad to hear that and asks for Bob's blockchain address to be used for signing the document online. He gladly shares his identifier with her and Alice is initating the notarization process. ",source:"@site/docs/learn/workshops/notarization/notarization-powered-by-blockchain.md",permalink:"/docs/learn/workshops/notarization/notarization-powered-by-blockchain",editUrl:"https://github.com/stove-labs/learn.stove-labs.com/edit/master/website/docs/learn/workshops/notarization/notarization-powered-by-blockchain.md",sidebar:"learn",previous:{title:"Opportunities in a digital age",permalink:"/docs/learn/workshops/notarization/opportunities-in-a-digital-age"},next:{title:"Comparing old & new",permalink:"/docs/learn/workshops/notarization/comparing-old-new"}},s=[{value:"The website - next generation with web3",id:"the-website---next-generation-with-web3",children:[{value:"How it is done today web 2.0",id:"how-it-is-done-today-web-20",children:[]},{value:"Solutions of tomorrow: web 3.0 + browser plugin",id:"solutions-of-tomorrow-web-30--browser-plugin",children:[]}]},{value:"Drag &amp; drop for the document&#39;s fingerprint - hashing",id:"drag--drop-for-the-documents-fingerprint---hashing",children:[]},{value:"Accounts in Tezos",id:"accounts-in-tezos",children:[]},{value:"Smart contracts",id:"smart-contracts",children:[]},{value:"Finalizing the process - where to enter the password?",id:"finalizing-the-process---where-to-enter-the-password",children:[]},{value:"How it comes together",id:"how-it-comes-together",children:[]}],l={rightToc:s};function b(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Alice and Bob had many meetings negotiating the terms and conditions of the lease agreement. After weeks of going back and forth writing the contract, Alice sends Bob through email the finalized document in digital form. Bob gives Alice a quick call and confirms that the latest version of the file is representing his intentions and willing to finalize the deal. Alice is glad to hear that and asks for Bob's blockchain address to be used for signing the document online. He gladly shares his identifier with her and Alice is initating the notarization process. "),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"We will build together all of the solution in this tutorial. That includes the notarization website as well."))),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"Step"),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Process"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"1"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Alice visits the notarization website          ",Object(i.b)("a",Object(n.a)({parentName:"td"},{href:"http://notarize.stove-labs.com"}),"http://notarize.stove-labs.com"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"2"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Alice drag & drops the final document in PDF format in the window. She knows that the file itself does not get uploaded to any server. This is very important to her, because the contract holds private information that should not get out into public. Instead, the file's fingerprint gets calculated in her browser and the first step is completed.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"3"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Alice defines how many co-signers the contract needs and specifies Bob and herself. She does so by entering both signee's blockchain addresses.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"4"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"After doing a last check for typos, she is ready to click the complete button to initate the notarization. After doing so, Alice confirms the notarization transaction with a password in her browser wallet.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"5"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Bob visits the notarization website and drag & drops his copy of the document.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"6"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Bob confirms his signature with a password in his browser wallet.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"-"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(i.b)("strong",{parentName:"td"},"Documents are notarized on-chain and the audit trail is publicly visible and immutable."))))),Object(i.b)("p",null,"Let's take together a detailed look at this new approach."),Object(i.b)("h2",{id:"the-website---next-generation-with-web3"},"The website - next generation with web3"),Object(i.b)("p",null,"The website Alice visits is not an ordinary site. While it looks simple on the outside, we could describe it as being part of the newest generation of the web. A quick overview of what is understood under web 3.0:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{}),"      \u25b2                                           \n      \u2502                                           \n  complexity                                      \n      \u2502                          web 3.0          \n      \u2502                             *             \n      \u2502                                           \n      \u2502                                           \n      \u2502                                           \n      \u2502          web 2.0                          \n      \u2502             *                             \n      \u2502                                           \n      \u2502  web 1.0                                  \n      \u2502     *                                     \n      \u2502                                           \n      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6 time     \n         \u250c\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2510           \n         \u25021990\u2502  \u25022000\u2502          \u25022020\u2502           \n         \u2514\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2518           \n")),Object(i.b)("p",null,'Over the years the internet became more complex. In the beginning, websites were quite static and rather "read-only".\nAs time passed and internet adoption increased, more and more content was created by users. More and more was "written" to pages and the websites evolved into being interactive and dynamic.\nNew technologies increase the complexity of the digital web, such as Internet of Things, Artificial Intelligence, Virtual Reality etc. Working groups form all over the world proposing decentralised, secure and user centric approaches to handle the complexity growth. Blockchain technology will be an important building block for decentralized applications.'),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Generation"),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Properties"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"web 1.0"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"basic html, emails")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"web 2.0"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"information centric: interactive representation")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"web 3.0"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"user centric: decentralized, private, secure")))),Object(i.b)("h3",{id:"how-it-is-done-today-web-20"},"How it is done today web 2.0"),Object(i.b)("p",null,"Today, the majority of web services follow the traditinal client/server pattern. The web browser is the client that requests the site's content from the server. For example the URL request initiates calling the website and receives in return the page content, images and JavaScript code. The user interacts with the content through the UI in the browser and creates in the background several more read and write requests to the server. As a result the server writes in its own centralized database. "),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{}),"\u250c\u2500\u2500\u2500\u2500Web\u2500Browser\u2500\u2500\u2500\u2510                      \u250c\u2500\u2500\u2500\u2500Web\u2500Server\u2500\u2500\u2500\u2500\u2510\n\u2502                  \u2502\u2500\u2500\u2500\u2500\u2500URL request\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n\u2502                  \u2502                      \u2502                  \u2502\n\u2502                  \u2502    response w/ web   \u2502                  \u2502\n\u2502                  \u2502 \u25c0\u2500\u2500\u2500page + assets\u2500\u2500\u2500\u2500\u2502                  \u2502\n\u2502                  \u2502                      \u2502                  \u2502\n\u2502       www        \u2502                      \u2502   centralized    \u2502\n\u2502                  \u2502      request         \u2502                  \u2502\n\u2502                  \u2502\u2500\u2500\u2500read or write\u2500\u2500\u2500\u2500\u25b6 \u2502                  \u2502\n\u2502                  \u2502                      \u2502                  \u2502\n\u2502                  \u2502                      \u2502                  \u2502\n\u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500response\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),Object(i.b)("h3",{id:"solutions-of-tomorrow-web-30--browser-plugin"},"Solutions of tomorrow: web 3.0 + browser plugin"),Object(i.b)("p",null,"The next generation builds on top of the client/server approach. Some of the data will not be stored in the server's centalized database, but in a decentralized ledger of a blockchain. As we already know, that data is publicly visible to anyone in the public blockchain network. Changing the data in the public ledger requires the user to initiate ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"../../../wiki/transaction"}),"transactions")," and most importantly to append their cryptographic approval to such a request. We also call that approval cryptographic signature and will talk in detail about that below. This is important, because the signature attached to the transaction fullfills two tasks: authenticating and authorizing the write request to the decentralized ledger. "),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{}),'\u250c\u2500\u2500\u2500\u2500Web\u2500Browser\u2500\u2500\u2500\u2510                      \u250c\u2500\u2500\u2500\u2500Web\u2500Server\u2500\u2500\u2500\u2500\u2510\n\u2502                  \u2502\u2500\u2500\u2500\u2500\u2500URL request\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n\u2502                  \u2502                      \u2502   centralized    \u2502\n\u2502                  \u2502    response w/ web   \u2502                  \u2502\n\u2502                  \u2502 \u25c0\u2500\u2500\u2500page + assets\u2500\u2500\u2500\u2500\u2502                  \u2502\n\u2502                  \u2502                      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502       www        \u2502                                          \n\u2502                  \u2502      request         \u250c\u2500\u2500\u2500\u2500Blockchain\u2500\u2500\u2500\u2500\u2510\n\u2502                  \u2502\u2500\u2500\u2500read or write\u2500\u2500\u2500\u2500\u25b6 \u2502                  \u2502\n\u2502                  \u2502                      \u2502  decentralized   \u2502\n\u2502                  \u2502                      \u2502                  \u2502\n\u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500response\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      prepares                                      \u25b2         \n          \u2502                                         \u2502         \n          \u25bc                                         \u2502         \n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                \u2502         \n\u2502     "write"      \u2502                                \u2502         \n\u2502   transaction    \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500new write request\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                          \n          \u25b2                                                   \n          \u2502                                                   \n        signs                                                 \n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                          \n\u2502Plugin with       \u2502                                          \n\u2502keychain/wallet   \u2502                                          \n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                \n')),Object(i.b)("h2",{id:"drag--drop-for-the-documents-fingerprint---hashing"},"Drag & drop for the document's fingerprint - hashing"),Object(i.b)("p",null,"In our use-case, Alice visits the website ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"http://notarize.stove-labs.com"}),"notarize.stove-labs.com")," and the browser presents her with a page that looks similar to a form, with blank spaces for information to be inserted. The first field asks for the ",Object(i.b)("strong",{parentName:"p"},"document's fingerprint"),", which is also called the ",Object(i.b)("strong",{parentName:"p"},"document's hash"),". For convenience there is a drag & drop field in the form. It takes a document file as input and calculates following a ",Object(i.b)("em",{parentName:"p"},"mathematical function")," its ",Object(i.b)("em",{parentName:"p"},"hash"),". This function can basically take text/data of any size and compute a fixed-size value called ",Object(i.b)("em",{parentName:"p"},"hash"),". Let's try it out ourselves."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{}),"sha256 is a type of SHA-2 (Secure Hash Algorithm 2)\nsha256('never trust a skinny chef') = 36d87a683cfb033dcdb751723d5ef32085988716ce87a30c4ee3844992510a6a\nsha256('never trust a skiny chef')  = 40526579889ed880ceac08478fff0fc7dec022dd5843725b1fb3a26ea1f8a62f\n")),Object(i.b)("p",null,"The four most important properties of hashing functions to understand are:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"deterministic - the same input always returns the same output hash"),Object(i.b)("li",{parentName:"ol"},"uncorrelated - a small change in the message generates a completely different hash"),Object(i.b)("li",{parentName:"ol"},"unique - it is infeasible for two different messages to generate the same hash"),Object(i.b)("li",{parentName:"ol"},"one-way - it is infeasible to calculate or guess the input from the output hash")),Object(i.b)("p",null,"Understanding these properties we are convinced that a ",Object(i.b)("em",{parentName:"p"},"hash acts like a digital fingerprint of a given document"),". Now that we understand this concept, we will also explore where else it is used."),Object(i.b)("h2",{id:"accounts-in-tezos"},"Accounts in Tezos"),Object(i.b)("p",null,"To control your ",Object(i.b)("em",{parentName:"p"},"account")," in the blockchain you need to have access to the ",Object(i.b)("em",{parentName:"p"},"seed")," or ",Object(i.b)("em",{parentName:"p"},"secret key"),". It is good practice to have a backup of the seed and therefore often a selection of words from a dictionary (seed phrases). The seed is then hashed and the resulting string of characters forms the secret key.\nNext a so called key pair is derived using a mathematical function. As the name suggests, the key pair consists of two keys: the secret key (also ",Object(i.b)("em",{parentName:"p"},"private key"),") and public key. For each key there is only one other matching key that is calculated by elliptic curve multiplication in Tezos. Similar to hashing, this only goes one-way. You can derive from a secret key the corresponding public key, but not the other way around.\nEvery Tezos address starts with ",Object(i.b)("inlineCode",{parentName:"p"},"tz")," followed by either ",Object(i.b)("inlineCode",{parentName:"p"},"1"),",",Object(i.b)("inlineCode",{parentName:"p"},"2")," or ",Object(i.b)("inlineCode",{parentName:"p"},"3")," and the ",Object(i.b)("em",{parentName:"p"},"hash of the public key"),". Take a look at the wiki to learn more about ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"../../../wiki/address"}),"addresses"),". "),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{}),"                                      elliptic curve                                      \n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 hashing  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 multiplication \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 hashing  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502             \u2502\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u25b6\u2502             \u2502\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u25b6\u2502             \u2502\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u25b6\u2502             \u2502\n\u2502    Seed     \u2502          \u2502 Secret Key  \u2502          \u2502 Public Key  \u2502          \u2502   Address   \u2502\n\u2502             \u2502\u25c0x x x x x\u2502(Private Key)\u2502\u25c0x x x x x\u2502             \u2502\u25c0x x x x x\u2502             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),Object(i.b)("p",null,"Commonly declared in ",Object(i.b)("inlineCode",{parentName:"p"},".config")," files:"),Object(i.b)("p",null,"pkh = public key hash,\nsk = secret key,\npk = public key"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{}),'alice: {\n        pkh: "tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb",\n        sk: "edsk3QoqBuvdamxouPhin7swCvkQNgq4jP5KZPbwWNnwdZpSpJiEbq",\n        pk: "edpkvGfYw3LyB1UcCahKQk4rF2tvbMUk8GFiTuMjL75uGXrpvKXhjn"\n    },\nbob: {\n        pkh: "tz1aSkwEot3L2kmUvcoxzjMomb9mvBNuzFK6",\n        sk: "edsk3RFfvaFaxbHx8BMtEW1rKQcPtDML3LXjNqMNLCzC3wLC1bWbAt",\n        pk: "edpkurPsQ8eUApnLUJ9ZPDvu98E8VNj4KtJa1aZr16Cr5ow5VHKnz4"\n    }\n')),Object(i.b)("div",{className:"admonition admonition-important alert alert--info"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Remember to never share your seed or secret key with others. Otherwise someone will gain control over your account."))),Object(i.b)("h2",{id:"smart-contracts"},"Smart contracts"),Object(i.b)("p",null,"A smart contract is a special type of account. Its address always starts with the letters ",Object(i.b)("inlineCode",{parentName:"p"},"KT1"),".  The smart contract account is created by ",Object(i.b)("em",{parentName:"p"},"originating")," it from an ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"address"}),Object(i.b)("em",{parentName:"a"},"implicit")," account"),". That's why it is also called ",Object(i.b)("inlineCode",{parentName:"p"},"originated account"),". It has the smart contract code attached to it. Whenever a smart contract receives a transaction (an instruction), its code is invoked and executed. The contract code is written in a Tezos specific language called ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"../../../wiki/michelson"}),"Michelson"),". "),Object(i.b)("p",null,"Here's an example of Michelson code: "),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{}),"{ parameter (or (or (nat %add) (nat %sub)) (unit %default)) ;\n  storage int ;\n  code { AMOUNT ; PUSH mutez 0 ; ASSERT_CMPEQ ; UNPAIR ;\n         IF_LEFT\n           { IF_LEFT { ADD } { SWAP ; SUB } }\n           { DROP ; DROP ; PUSH int 0 } ;\n         NIL operation ; PAIR } }\n")),Object(i.b)("p",null,"The contract itself contains three main parts:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"parameter")," - An argument that is provided by a transaction invoking the contract."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"storage")," - The type definition for the contract's data storage."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"code")," - The actual Michelson code, that has the provided parameter & the current storage value in it's initial stack, and outputs a list of operations & a new storage value as it's resulting stack.")),Object(i.b)("h2",{id:"finalizing-the-process---where-to-enter-the-password"},"Finalizing the process - where to enter the password?"),Object(i.b)("p",null,"As we have learned earlier that it is very important to store the secret key securely. At the same time, we need to have it ready to confirm transactions to the ledger. That's why we will have it stored in a web wallet (",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.tezbridge.com/"}),"TezBridge"),"). The wallet stores the secret key in a ",Object(i.b)("em",{parentName:"p"},"password")," protected storage. This password is a lot shorter and more handy than the secret key itself."),Object(i.b)("h2",{id:"how-it-comes-together"},"How it comes together"),Object(i.b)("p",null,"In the diagram below you can see how these elements come together on a different level of abstraction. It becomes clear that Alice calculates the hash locally and instructs a pre-deployed smart contract within the Tezos blockchain. Upon instruction by a transaction with a given hash, the code is executed and creates a storage. This storage is basically an own instance of a ledger within Tezos. The first entry is the hash of the document and a boolean denoting that Alice has signed. "),Object(i.b)("p",null,"Later, the missing signature is updated by Bob. He interacts with the smart contract through a transaction as well. After checking all conditions, the code updates the storage and finally both signatures had been appended to the given hash of the document. The document had been notarized, because these entries are publicly verifiable and practically immutable."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{}),"\u250c\u2500\u2500\u2500\u2500\u2500ledger\u2500entry\u2500\u2500\u2500\u2500\u2510                                         \u250c\u2500\u2500\u2500\u2500\u2500ledger\u2500entry\u2500\u2500\u2500\u2500\u2510  \n\u2502{                    \u2502                                         \u2502{                    \u2502  \n\u2502    hash:            \u2502   after    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  after    \u2502    hash:            \u2502  \n\u2502    [                \u2502   create   \u2502                \u2502  update   \u2502    [                \u2502  \n\u2502        Alice: true, \u2502\u25c0\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550 \u2502    storage     \u2502\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u25b6\u2502        Alice: true, \u2502  \n\u2502        Bob: false   \u2502            \u2502                \u2502           \u2502        Bob: false   \u2502  \n\u2502    ]                \u2502            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502    ]                \u2502  \n\u2502}                    \u2502                \u25b2           \u25b2            \u2502}                    \u2502  \n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502           \u2502            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \n                                    creates     updates                                  \n                                       \u2502           \u2502                                     \n                              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                            \n                              \u2502                             \u2502                            \n                              \u2502       Smart Contract        \u2502                            \n                              \u2502      (business logic)       \u2502                            \n                              \u2502                             \u2502                            \n                              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                            \n                                        \u25b2             \u25b2                                  \n                                        \u2502             \u2502                                  \n                                        \u2502        transaction                             \n                               transaction        co-signing                             \n                                 w/ hash          given hash                             \n                                   \u2502                  \u2502                                  \n                                   \u2502                  \u2502                                  \n\u250c\u2500\u2500hashing\u2500func\u2500\u2500\u2510           \u250c\u2500\u2500Account\u2500\u2500\u2510      \u250c\u2500\u2500Account\u2500\u2500\u2510          \u250c\u2500\u2500hashing\u2500func\u2500\u2500\u2510\n\u2502                \u2502           \u2502           \u2502      \u2502           \u2502          \u2502                \u2502\n\u2502sha256(document)\u2502 \u2500\u2500\u2500hash\u2500\u2500\u25b6\u2502   Alice   \u2502      \u2502    Bob    \u2502\u25c0\u2500\u2500hash\u2500\u2500\u2500\u2502sha256(document)\u2502\n\u2502                \u2502           \u2502           \u2502      \u2502           \u2502          \u2502                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")))}b.isMDXComponent=!0},161:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=r.a.createContext({}),b=function(e){var t=r.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):c({},t,{},e)),a},h=function(e){var t=b(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=Object(n.forwardRef)((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),h=b(a),p=n,m=h["".concat(o,".").concat(p)]||h[p]||d[p]||i;return a?r.a.createElement(m,c({ref:t},l,{components:a})):r.a.createElement(m,c({ref:t},l))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=p;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:n,o[1]=c;for(var l=2;l<i;l++)o[l]=a[l];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,a)}p.displayName="MDXCreateElement"}}]);