(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{118:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return p})),n.d(t,"metadata",(function(){return u})),n.d(t,"rightToc",(function(){return m})),n.d(t,"default",(function(){return b}));var a=n(2),o=n(6),r=(n(0),n(163)),c=n(174),i=n(216),s=n(217),l=n(168),p={id:"smart-contract",title:"Overview"},u={id:"knowledge/smart_contract/smart-contract",isDocsHomePage:!1,title:"Overview",description:"Generally speaking, we think of a smart contract as a collection of functions that share and manipulate the same storage. At closer look, it is actually a special type of account and has therefore an address. It always starts with the letters KT1 and is also called originated account. This name comes from how it is created, by originating it from an implicit account. It is essential to understand that a program code is attached to it, written in the Tezos specific language Michelson. To start or invoke the code, the account needs to receive a transaction. Next to the cryptocurrency \ua729, the transaction can also carry additional parameters. How the parameters find their way to the function is explained in more detail in the entrypoints article.",source:"@site/docs/knowledge/smart_contract/smart-contract.mdx",permalink:"/docs/knowledge/smart_contract/smart-contract",editUrl:"https://github.com/stove-labs/learn.stove-labs.com/edit/master/website/docs/knowledge/smart_contract/smart-contract.mdx",sidebar:"wiki",previous:{title:"Tezos starter kit",permalink:"/docs/wiki/workstation-setup/starter-kit"},next:{title:"Entrypoints",permalink:"/docs/knowledge/smart_contract/entrypoints"}},m=[{value:"Example contract declining incoming \ua729",id:"example-contract-declining-incoming-\ua729",children:[]}],d={rightToc:m};function b(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Generally speaking, we think of a ",Object(r.b)("strong",{parentName:"p"},"smart contract")," as a collection of functions that share and manipulate the same storage. At closer look, it is actually a special type of ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"../tezos_protocol/account"}),"account")," and has therefore an address. It always starts with the letters ",Object(r.b)("inlineCode",{parentName:"p"},"KT1")," and is also called ",Object(r.b)("strong",{parentName:"p"},"originated account"),". This name comes from how it is created, by ",Object(r.b)("em",{parentName:"p"},"originating")," it from an ",Object(r.b)("em",{parentName:"p"},"implicit")," account. It is essential to understand that a program code is attached to it, written in the Tezos specific language ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"michelson"}),"Michelson"),". To start or ",Object(r.b)("em",{parentName:"p"},"invoke")," the code, the account needs to receive a transaction. Next to the cryptocurrency \ua729, the transaction can also carry additional ",Object(r.b)("em",{parentName:"p"},"parameters"),". How the parameters find their way to the function is explained in more detail in the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"entrypoints"}),"entrypoints")," article. "),Object(r.b)("p",null,"The ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"../learn/workshops/notarization/theory/opportunities-in-a-digital-age"}),"notarization workshop")," provides a lot of theoretical background in why and how smart contracts can revolutionize fundamental processes of our modern society. Technically speaking, a smart contract is a decentalized code that can't be altered or stopped. The important aspect is that not only its storage, but also ",Object(r.b)("strong",{parentName:"p"},"execution is decentralized")," and ",Object(r.b)("strong",{parentName:"p"},"verifiable")," by the public. This makes the program code ",Object(r.b)("strong",{parentName:"p"},"practically tamperproof"),"."),Object(r.b)("center",null,Object(r.b)(c.a,{chart:'\ngraph TD\n  account["Implicit Account<br>tz1...<br>tz2...<br>tz3..."]--\x3e|sends|operation["Operation"]\n  account--\x3e|owns|tez["\ua729"]\n  smart--\x3e|owns|tez\n  operation--\x3emore["..."]\n  operation--\x3etransaction["Transaction"]\n  transaction--\x3e|contains|parameter\n  transaction--\x3e|invokes|michelson["Michelson code"]\n  transaction--\x3e|sends|tez\n  michelson--\x3e|defines|storage\n  operation--\x3eorigination["Origination"]\n  origination--\x3e|creates|smart["Originated Account<br>(Smart Contract)<br>KT1..."]\n  smart--\x3e|has|storage\n  smart--\x3e|has|michelson\n  michelson--\x3e|defines|parameter\n  transaction--\x3e|targets|smart\n  account--\x3e|manages|smart\n  class account,smart nodeWarning\n  class tez nodeTezos\n  class michelson,parameter,storage nodeDanger\n  click michelson,parameter,storage "'+Object(l.a)("docs/knowledge/smart_contract/michelson")+'"\n  click operation,transaction,origination,more "'+Object(l.a)("docs/knowledge/tezos_protocol/operations/operations")+'"\n  click account "'+Object(l.a)("docs/knowledge/tezos_protocol/account")+'"\n',mdxType:"Mermaid"})),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Chef's tip \ud83d\udc68\u200d\ud83c\udf73")),Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"You can interact with the diagram by clicking on the node. It will take you to the relevant article."))),Object(r.b)("h2",{id:"example-contract-declining-incoming-\ua729"},"Example contract declining incoming \ua729"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Smart contract")," code opens up almost ",Object(r.b)("strong",{parentName:"p"},"endless possibilties")," in customizing the behaviour of an originated account. In this ",Object(r.b)("strong",{parentName:"p"},"example"),", the program code is not supposed to handle cryptocurrency and therefore can't process receiving \ua729. That's why it is ",Object(r.b)("em",{parentName:"p"},"best practice")," for you to implement a ",Object(r.b)("strong",{parentName:"p"},"security mechanism")," that ",Object(r.b)("strong",{parentName:"p"},"blocks the transfer of \ua729 to your contract"),". "),Object(r.b)("p",null,"Curious how easy it is too implement this logic? Below we can see the solution written in the high-level language ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.ligolang.org"}),"ReasonLIGO"),". This code gets compiled to the lower-level language Michelson, which can be processed by the Tezos blockchain. Despite being bytecode, it is human readable, which sets it apart from other blockchain environments. After deploying this code to an originated account, you have customized the behavior of the account and it will automatically decline transactions carrying any \ua729."),Object(r.b)(i.a,{defaultValue:"reason",values:[{label:"ReasonLIGO",value:"reason"},{label:"Michelson",value:"michelson"}],mdxType:"Tabs"},Object(r.b)(s.a,{value:"reason",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-reason"}),'type parameter = unit;\ntype storage = unit;\n\nlet main = ((action, store): (parameter, storage)) : (list (operation), storage) => {\n  // Check for \ua729 in the transaction that also contains the parameter\n  // highlight-start\n  if (Tezos.amount > 0tez) {\n    (failwith("This contract does not accept tokens."): (list (operation), storage)); }\n  // highlight-end  \n  else { \n    // here goes the business logic of the smart contract\n      (([] : list (operation)), store); };\n};\n'))),Object(r.b)(s.a,{value:"michelson",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-reason"}),'{ parameter unit ;\n  storage unit ;\n  code { PUSH mutez 0 ;\n         AMOUNT ;\n         COMPARE ;\n         GT ;\n         IF { PUSH string "This contract does not accept tokens." ; FAILWITH }\n            { DUP ; CDR ; NIL operation ; PAIR } ;\n         DIP { DROP } } }\n')))))}b.isMDXComponent=!0},166:function(e,t,n){"use strict";var a=n(0),o=n(36);t.a=function(){return Object(a.useContext)(o.a)}},168:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(166),o=n(171);function r(e,{forcePrependBaseUrl:t=!1,absolute:n=!1}={}){const{siteConfig:{baseUrl:r="/",url:c}={}}=Object(a.a)();if(!e)return e;if(t)return r+e;if(!Object(o.a)(e))return e;const i=r+e.replace(/^\//,"");return n?c+i:i}},171:function(e,t,n){"use strict";function a(e){return!1===/^(https?:|\/\/|mailto:|tel:)/.test(e)}n.d(t,"a",(function(){return a}))},172:function(e,t,n){"use strict";function a(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}t.a=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(o&&(o+=" "),o+=t);return o}},174:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(190),c=n.n(r);c.a.initialize({startOnLoad:!0,themeCSS:"\n\t\t\t.node rect { fill: #f7f8fe; stroke: #000000 } \n\t\t\t.node polygon { fill: #f7f8fe; stroke: #000000 } \n\t\t\t.node path { fill: #f7f8fe; stroke: #000000 } \n\t\t\t.nodeWarning > rect{fill:#FFD03B; stroke:#000000;}\n\t\t\t.nodeDanger > rect{fill: #F86D70; stroke:#000000;} \n\t\t\t.nodeTezos > .label{color: #ffffff} \n\t\t\t.nodeTezos > rect {fill: #536DFE}\n\t\t"});t.a=({chart:e})=>(Object(a.useEffect)(()=>{c.a.contentLoaded()},[]),o.a.createElement("div",{className:"mermaid"},e))},186:function(e,t,n){"use strict";var a=n(0);const o=Object(a.createContext)({tabGroupChoices:{},setTabGroupChoices:()=>{},isAnnouncementBarClosed:!1,closeAnnouncementBar:()=>{}});t.a=o},187:function(e,t,n){"use strict";var a=n(0),o=n(186);t.a=function(){return Object(a.useContext)(o.a)}},191:function(e,t){},192:function(e,t){},193:function(e,t){},194:function(e,t){},195:function(e,t){},196:function(e,t){},197:function(e,t){},198:function(e,t){},200:function(e,t){},201:function(e,t){},202:function(e,t){},203:function(e,t){},204:function(e,t){},207:function(e,t,n){var a={"./locale":173,"./locale.js":173};function o(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id=207},216:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(187),c=n(172),i=n(92),s=n.n(i);const l=37,p=39;t.a=function(e){const{block:t,children:n,defaultValue:i,values:u,groupId:m}=e,{tabGroupChoices:d,setTabGroupChoices:b}=Object(r.a)(),[h,f]=Object(a.useState)(i);if(null!=m){const e=d[m];null!=e&&e!==h&&u.some(t=>t.value===e)&&f(e)}const g=e=>{f(e),null!=m&&b(m,e)},O=[];return o.a.createElement("div",null,o.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(c.a)("tabs",{"tabs--block":t})},u.map(({value:e,label:t})=>o.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":h===e,className:Object(c.a)("tabs__item",s.a.tabItem,{"tabs__item--active":h===e}),key:e,ref:e=>O.push(e),onKeyDown:e=>((e,t,n)=>{switch(n.keyCode){case p:((e,t)=>{const n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()})(e,t);break;case l:((e,t)=>{const n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()})(e,t)}})(O,e.target,e),onFocus:()=>g(e),onClick:()=>g(e)},t))),o.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(n).filter(e=>e.props.value===h)[0]))}},217:function(e,t,n){"use strict";var a=n(0),o=n.n(a);t.a=function(e){return o.a.createElement("div",null,e.children)}}}]);