<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">


<title data-react-helmet="true">Gas &amp; Fees | Chef&#x27;s kitchen </title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Gas &amp; Fees | Chef&#x27;s kitchen "><meta data-react-helmet="true" name="description" content="Every transaction on Tezos incurs costs for its computation and used storage. Consider that every [node](../node) is performing the calculation and keeps a copy of the data. That&#x27;s why it is necessary charge a fee to provide an incentive for node operators to run the infrastructure and to encourage &quot;lean&quot; code."><meta data-react-helmet="true" property="og:description" content="Every transaction on Tezos incurs costs for its computation and used storage. Consider that every [node](../node) is performing the calculation and keeps a copy of the data. That&#x27;s why it is necessary charge a fee to provide an incentive for node operators to run the infrastructure and to encourage &quot;lean&quot; code."><meta data-react-helmet="true" property="og:url" content="https://kitchen.stove-labs.com/docs/knowledge/tezos_protocol/operations/gas-fees">

<link data-react-helmet="true" rel="shortcut icon" href="/img/logo.ico">


<link rel="stylesheet" href="/styles.ce447e96.css">


<link rel="preload" href="/styles.cef567eb.js" as="script">

<link rel="preload" href="/runtime~main.3ecdff98.js" as="script">

<link rel="preload" href="/main.eefd1c6e.js" as="script">

<link rel="preload" href="/1.577e63db.js" as="script">

<link rel="preload" href="/2.975a3dd7.js" as="script">

<link rel="preload" href="/3.27aa9f7a.js" as="script">

<link rel="preload" href="/1be78505.01f7b0f9.js" as="script">

<link rel="preload" href="/20ac7829.55936cf8.js" as="script">

<link rel="preload" href="/17896441.a5f0aa52.js" as="script">

<link rel="preload" href="/6591f132.5d20f766.js" as="script">

</head>
<body>

<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.png" alt="Stove Labs&#x27; Logo"><strong class="navbar__title">Stove Labs&#x27; Kitchen</strong></a><a class="navbar__item navbar__link" href="/docs/learn/workshops/notarization/overview">Learn</a><a class="navbar__item navbar__link" href="/docs/knowledge/tezos_protocol/cryptography/address">Knowledge</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://github.com/stove-labs/kitchen.stove-labs.com" class="navbar__item navbar__link">GitHub</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.png" alt="Stove Labs&#x27; Logo"><strong class="navbar__title">Stove Labs&#x27; Kitchen</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/learn/workshops/notarization/overview">Learn</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/tezos_protocol/cryptography/address">Knowledge</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/stove-labs/kitchen.stove-labs.com" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Workstation setup</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/wiki/workstation-setup/starter-kit">Tezos starter kit</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Smart Contract</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/smart_contract/smart-contract">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/smart_contract/entrypoints">Entrypoints</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/smart_contract/michelson">Michelson</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tezos Protocol</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/tezos_protocol/implicit-account">Account</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/tezos_protocol/block">Block</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/tezos_protocol/context">Context</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Cryptography</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/tezos_protocol/cryptography/address">Address</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/tezos_protocol/cryptography/hash">Hash</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/tezos_protocol/cryptography/key-pair">Key pair</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/tezos_protocol/cryptography/signature">Signatures</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/tezos_protocol/protocol">Protocol Architecture</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/tezos_protocol/node">Node</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Operations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/tezos_protocol/operations/operations">Overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/knowledge/tezos_protocol/operations/gas-fees">Gas &amp; Fees</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/tezos_protocol/operations/originated-account">Origination</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/tezos_protocol/operations/reveal-operation">Revelation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/tezos_protocol/operations/transaction">Transaction</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">References</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/references/taquito">Taquito SDK</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/knowledge/references/tezbridge">TezBridge</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Gas &amp; Fees</h1></header><div class="markdown"><p>Every transaction on Tezos incurs costs for its computation and used storage. Consider that every <a href="/docs/knowledge/tezos_protocol/node">node</a> is performing the calculation and keeps a copy of the data. That&#x27;s why it is necessary charge a fee to provide an incentive for node operators to run the infrastructure and to encourage &quot;lean&quot; code.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>A <strong>fee</strong> is paid to a <em>baker</em>, while a <strong>burn</strong> is destroyed. The latter has a deflationary quality for the total supply of <em>tez</em>, because no account is the recipient -  not even a <em>baker</em>.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="burn"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#burn" title="Direct link to heading">#</a>Burn</h2><p>Whenever a <a href="/docs/knowledge/tezos_protocol/operations/transaction">transaction</a> increases the <a href="/docs/knowledge/tezos_protocol/context">context</a> of the blockchain, the source address must pay a burn fee.
The two different types of burn fee are:</p><ol><li>Allocation burn of 0.257 tez or 257000 mtez<ol><li>Activation of a new address happens when the first transaction is sent to it<sup id="fnref-1"><a aria-current="page" class="footnote-ref active" href="/docs/knowledge/tezos_protocol/operations/gas-fees#fn-1">1</a></sup>. </li><li>A new <a href="/docs/knowledge/smart_contract/smart-contract">smart contract</a> is created. A new <code>KT1</code> address is <a href="/docs/knowledge/tezos_protocol/operations/originated-account">originated</a>.</li></ol></li><li>Storage burn: the size of the smart contract increases.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="gas"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#gas" title="Direct link to heading">#</a>Gas</h2><p>In short, gas is a measure for <em>how long</em> it takes a program to compute. It is a rough equivalent of computational steps required to calculate the new <a href="/docs/knowledge/tezos_protocol/operations/context">state</a>. This limitation prevents programs in the form of <a href="/docs/knowledge/smart_contract/smart-contract">smart contracts</a> to run uncontrollably.
Consider the case of a smart contract that runs recursively. If there would be nothing to stop the program from running, many contracts could clog up the blockchain network. That&#x27;s why a gas limit needs to be paid for every transaction. If the total gas used by the smart contract computation is less or equal the gas limit, then the transaction is processed and changes are applied to the state. However, if the total gas used is higher than the gas limit paid previously, then all changes are reverted, but the gas fee is collected by the baker. In other words, the transaction is still valid, but has no effect on the state. It is the responsibility of the sender to include enough gas for the transaction.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="calculating-total-fee"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#calculating-total-fee" title="Direct link to heading">#</a>Calculating total fee</h2><p>The most reliable way to determine the total fee that has to be paid for a <a href="/docs/knowledge/tezos_protocol/operations/operations">transaction operation</a> is calculated by doing a <code>--dry-run</code> in <em>tezos-client</em>. The node simulates the <a href="/docs/knowledge/smart_contract/michelson">michelson</a> execution and traces the amount of gas used for computation and how much storage is required. Then the client adds as a safety mechanism another 100 extra <em>units of gas</em>. As stated above, this is not a problem, because the transaction initiator will receive back the surplus of gas.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Simulating the operation with the <em>tezos-client</em> using the <code>--dry-run</code> flag is very useful. The transaction is ran locally in your node and you will immediately know whether it executes successfully. Additionally, it traces gas and storage costs that you can use for <code>gas_limit</code> and <code>storage_limit</code>, when announcing the transaction on a live network. In this way you will avoid paying fees for an erroneous transaction.  </p></div></div><p>Nevertheless it is useful to understand how the fee per operation is computed. In protocol <a href="https://tezos.gitlab.io/protocols/004_Pt24m4xi.html">004_Athens</a> the constants were updated, but the formula has not changed:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">total_cost = safety gas + burn + fees</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">safety gas = 100 gas units</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">burn = storage_difference * minimal_nanotez_per_byte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fees &gt;= minimal_fees +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        minimal_nanotez_per_byte * size +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        minimal_nanotez_per_gas_unit * gas</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">in practice:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fees &gt;= 100 +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        1 * size +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0.1 * gas</span></div></div></div></div></div><p>Two examples are:</p><p>Transfer to an inactive<sup id="fnref-1"><a aria-current="page" class="footnote-ref active" href="/docs/knowledge/tezos_protocol/operations/gas-fees#fn-1">1</a></sup> <a href="/docs/knowledge/tezos_protocol/implicit-account">implicit account</a></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">gas_limit : 10200</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">storage_limit : 257 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fee : 1281 mtz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">opbytes : ~162</span></div></div></div></div></div><p>Transfer to an active <a href="/docs/knowledge/tezos_protocol/implicit-account">implicit account</a> or KT1 <a href="/docs/knowledge/tezos_protocol/operations/originated-account">originated account</a></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">gas_limit : 10200</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">storage_limit : 0 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fee : 1281 mtz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">opbytes : ~162</span></div></div></div></div></div><p>For more information on gas &amp; fees visit the <a href="https://tezos.gitlab.io/protocols/004_Pt24m4xi.html#gas-and-fees">official documentation</a>.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>According to the popular JavaScript API library <a href="https://github.com/TezTech/eztz/blob/master/PROTO_004_FEES.md">eztz</a>, recommended settings for transactions should be a fee of 1420mutez, a storage limit of 300 and a gas limit of 10600, meeting a variety of cases. The safest way is to simulate any operation with <code>--dry-run</code> in <em>tezos-client</em> to estimate the costs and to add a safety blanket of +100mutez.</p></div></div><p>Recommended settings for transactions should be fee of 1420mutez, storage limit of 300, and gas limit of 10600 (to cover a variety of cases)</p><p><sup id="fnref-1"><a aria-current="page" class="footnote-ref active" href="/docs/knowledge/tezos_protocol/operations/gas-fees#fn-1">1</a></sup> An <em>inactive</em> account has 0 balance and is not registered as a baker.</p><div class="footnotes"><hr><ol><li id="fn-1">The public key for an address is <em>revealed</em> when a the first transaction is sent from it. This is important for other participants to verify operations signed by that public key.<a aria-current="page" class="footnote-backref active" href="/docs/knowledge/tezos_protocol/operations/gas-fees#fnref-1">↩</a></li></ol></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/stove-labs/learn.stove-labs.com/edit/master/website/docs/knowledge/tezos_protocol/operations/gas-fees.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/knowledge/tezos_protocol/operations/operations"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/knowledge/tezos_protocol/operations/originated-account"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Origination »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#burn" class="contents__link">Burn</a></li><li><a href="#gas" class="contents__link">Gas</a></li><li><a href="#calculating-total-fee" class="contents__link">Calculating total fee</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2020 Stove Labs</div></div></div></footer>
</div>

<script src="/styles.cef567eb.js"></script>

<script src="/runtime~main.3ecdff98.js"></script>

<script src="/main.eefd1c6e.js"></script>

<script src="/1.577e63db.js"></script>

<script src="/2.975a3dd7.js"></script>

<script src="/3.27aa9f7a.js"></script>

<script src="/1be78505.01f7b0f9.js"></script>

<script src="/20ac7829.55936cf8.js"></script>

<script src="/17896441.a5f0aa52.js"></script>

<script src="/6591f132.5d20f766.js"></script>


</body>
</html>